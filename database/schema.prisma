generator client {
  provider = "prisma-client"
  output   = "../lib/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model Notebooks {
  id        String   @id @default(uuid())
  userId    String
  name      String
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  notes     Notes[]
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Notes {
  id         String   @id @default(uuid())
  notebookId String
  title      String
  content    String
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt

  notebook Notebooks @relation(fields: [notebookId], references: [id])
}

model User {
  id             String    @id @default(cuid())
  name           String?
  email          String    @unique
  emailVerified  DateTime?
  image          String?
  hashedPassword String
  notebooks      Notebooks[]
  sessions       Session[]
  createdAt      DateTime  @default(now())
  updatedAt      DateTime  @updatedAt
}

model Session {
  id           String   @id @default(cuid())
  sessionToken String   @unique
  userId       String
  expires      DateTime
  refreshToken String?
  accessToken  String?
  expiresAt    Int?
  tokenType    String?
  scope        String?
  idToken      String?
  sessionState String?
  user         User     @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model VerificationToken {
  identifier String
  token      String   @unique
  expires    DateTime

  @@unique([identifier, token])
}
